import{r as h,j as A,A as Je}from"./index-D6XtY_MT.js";import{u as Qe,F as et}from"./slider-9bKQF1uv.js";import{C as tt,a as nt}from"./ConstructionStepLog-bdn_P4wb.js";function lt({onBack:le,darkMode:d,onDarkModeChange:ke,customSides:j}){const Te=Qe(),z=h.useRef(null),M=h.useRef(null),U=h.useRef(null),ee=h.useRef(),[y,pe]=h.useState(0),[b,te]=h.useState(Te?.2:.4),[m,W]=h.useState({x:0,y:0}),[ne,G]=h.useState(!1),[V,ce]=h.useState({x:0,y:0}),[C,Ae]=h.useState({width:1920,height:1080}),[E,ue]=h.useState(0),[he,fe]=h.useState(!0),[R,Re]=h.useState(!0),[$,oe]=h.useState(!1),Xe=[{notation:"AB; |AB| = c",description:"Narýsuj úsečku AB",type:"segment"},{notation:"k₁(A; b)",description:"Kružnice se středem A a poloměrem b",type:"circle"},{notation:"k₂(B; a)",description:"Kružnice se středem B a poloměrem a",type:"circle"},{notation:"C = k₁ ∩ k₂",description:"Průsečík kružnic",type:"point"},{notation:"AC",description:"Spojení A a C",type:"segment"},{notation:"BC",description:"Spojení B a C",type:"segment"},{notation:"△ABC",description:"Trojúhelník ABC",type:"segment"},{notation:"|AB| = c, |AC| = b, |BC| = a",description:"Označení délek stran",type:"segment"}],se=h.useRef(null),[Ye,Ie]=h.useState(!1),ie=h.useRef(null),[Me,ze]=h.useState(!1),[w,de]=h.useState({x:860,y:900}),[P,ge]=h.useState({x:1460,y:900}),[D,F]=h.useState(null),[k,ae]=h.useState(null),[me,De]=h.useState(!1),[xe,ye]=h.useState(!1),[Be,Ee]=h.useState(0),[Le,Ne]=h.useState(1),[ot,We]=h.useState({x:0,y:0}),L=j||{ab:5,ac:4,bc:3},[v,$e]=h.useState(L),[O,Fe]=h.useState(null),x=Math.sqrt(Math.pow(P.x-w.x,2)+Math.pow(P.y-w.y,2)),_=x*(v.ac/v.ab),H=x*(v.bc/v.ab),B=(()=>{const e=x,o=_,s=H,n=(e*e+o*o-s*s)/(2*e),t=Math.sqrt(o*o-n*n),i=w.x+(P.x-w.x)*(n/e),a=w.y+(P.y-w.y)*(n/e),u=P.x-w.x,r=-(P.y-w.y)/e,f=u/e;return{top:{x:i+t*r,y:a+t*f},bottom:{x:i-t*r,y:a-t*f}}})();h.useEffect(()=>{!O&&x>0&&Fe(x)},[O,x]),h.useEffect(()=>{if(O&&(D==="A"||D==="B")){const e=L.ab/O,o=Math.round(x*e*10)/10,s=Math.round(L.ac*(o/L.ab)*10)/10,n=Math.round(L.bc*(o/L.ab)*10)/10;$e({ab:o,ac:s,bc:n})}},[x,D,O,L]),h.useEffect(()=>{M.current||(M.current=document.createElement("canvas"))},[]),h.useEffect(()=>{const e=new Image;e.crossOrigin="anonymous",e.onload=()=>{se.current=e,Ie(!0)},e.onerror=()=>console.error("Failed to load ruler image"),e.src="https://jjpiguuubvmiobmixwgh.supabase.co/storage/v1/object/public/Admin%20math/pravitko4.svg"},[]),h.useEffect(()=>{const e=new Image;e.crossOrigin="anonymous",e.onload=()=>{ie.current=e,ze(!0)},e.onerror=()=>console.error("Failed to load compass image"),e.src="https://jjpiguuubvmiobmixwgh.supabase.co/storage/v1/object/public/Admin%20math/kruzitko.svg"},[]);const J=(e,o)=>({x:(e-m.x)/b,y:(o-m.y)/b}),Z=(e,o,s=15)=>{const n=e.x-o.x,t=e.y-o.y;return Math.sqrt(n*n+t*t)<s},q=(e,o,s)=>{const n=e.x*b+m.x,t=e.y*b+m.y,i=n+s.x,a=t+s.y,u=20,c=o.x-i,r=o.y-(a-8);return Math.sqrt(c*c+r*r)<u},be=()=>{if(!C.width||!C.height)return;const e=(w.x+P.x)/2,o=w.y,s=C.width/2,n=C.height/2;W({x:s-e*b,y:n-o*b})};h.useEffect(()=>{const e=()=>{U.current&&Ae({width:U.current.clientWidth,height:U.current.clientHeight})};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),h.useEffect(()=>{C.width>0&&C.height>0&&(be(),me||De(!0))},[C.width,C.height,me]),h.useEffect(()=>{const e=z.current,o=M.current;if(!e||!o)return;const s=window.devicePixelRatio||1;e.width=C.width*s,e.height=C.height*s,o.width=C.width*s,o.height=C.height*s},[C]),h.useEffect(()=>(he&&E<1?ee.current=requestAnimationFrame(()=>{let e=.009;y===1||y===3?e=.003:(y===2||y===4)&&(e=.006),ue(o=>Math.min(o+e,1))}):E>=1&&fe(!1),()=>{ee.current&&cancelAnimationFrame(ee.current)}),[he,E,y]);const Ze=e=>{let o=50*b;for(;o<35;)o*=2;e.strokeStyle=d?"rgba(125, 107, 194, 0.15)":"rgba(229, 231, 235, 0.8)",e.lineWidth=1;const s=m.x%o,n=m.y%o;for(let t=s;t<=C.width;t+=o)e.beginPath(),e.moveTo(t,0),e.lineTo(t,C.height),e.stroke();for(let t=n;t<=C.height;t+=o)e.beginPath(),e.moveTo(0,t),e.lineTo(C.width,t),e.stroke()},S=(e,o,s,n="#000",t=12,i=-12,a=1)=>{e.save(),e.setTransform(a,0,0,a,0,0);const u=o.x*b+m.x,c=o.y*b+m.y;e.font="bold 16px Inter, system-ui, sans-serif";const f=e.measureText(s).width,l=8,g=u+t+f/2,p=c+i-8,K=Math.max(f,16)/2+l;e.fillStyle="#3b82f6",e.beginPath(),e.arc(g,p,K,0,Math.PI*2),e.fill(),e.fillStyle="#ffffff",e.textAlign="center",e.textBaseline="middle",e.fillText(s,g,p),e.restore()},T=(e,o,s,n="#000",t=!1)=>{const i=t?24:20,a=s+Math.PI/2,u={x:o.x+Math.cos(a)*i/2,y:o.y+Math.sin(a)*i/2},c={x:o.x-Math.cos(a)*i/2,y:o.y-Math.sin(a)*i/2};e.strokeStyle=n,e.lineWidth=6,e.lineCap="butt",e.beginPath(),e.moveTo(u.x,u.y),e.lineTo(c.x,c.y),e.stroke(),t&&(e.fillStyle=d?"rgba(96, 165, 250, 0.25)":"rgba(59, 130, 246, 0.15)",e.beginPath(),e.arc(o.x,o.y,18,0,Math.PI*2),e.fill())},we=(e,o,s,n="#000")=>{e.fillStyle=d?"rgba(75, 85, 99, 0.4)":"rgba(200, 200, 200, 0.3)",e.beginPath(),e.arc(o.x,o.y,10,0,Math.PI*2),e.fill(),e.fillStyle=n,e.beginPath(),e.arc(o.x,o.y,7,0,Math.PI*2),e.fill(),e.strokeStyle=d?"#111827":"#ffffff",e.lineWidth=2,e.beginPath(),e.arc(o.x,o.y,7,0,Math.PI*2),e.stroke()},X=(e,o,s,n="#000",t=2,i=1)=>{let a=0;i<=.15?a=0:i>=.85?a=1:a=(i-.15)/.7;const u={x:o.x+(s.x-o.x)*a,y:o.y+(s.y-o.y)*a},c=a<1;c&&a>0&&(e.strokeStyle="rgba(251, 191, 36, 0.5)",e.lineWidth=t*10,e.lineCap="round",e.beginPath(),e.moveTo(o.x,o.y),e.lineTo(u.x,u.y),e.stroke()),a>0&&(e.strokeStyle=n,e.lineWidth=c?t*1.5:t,e.lineCap="round",e.beginPath(),e.moveTo(o.x,o.y),e.lineTo(u.x,u.y),e.stroke())},Y=(e,o,s,n,t=1)=>{const i=(o.x+s.x)/2,a=(o.y+s.y)/2,u=s.x-o.x,c=s.y-o.y,r=Math.atan2(c,u);e.save(),e.setTransform(t,0,0,t,0,0);const f=i*b+m.x,l=a*b+m.y;e.translate(f,l),e.rotate(r);const g=`${n}cm`;e.font='600 18px "Fenomen Sans", Arial, sans-serif',e.fillStyle=d?"#e5e7eb":"#1f2937",e.textAlign="center",e.textBaseline="bottom",e.fillText(g,0,-8),e.restore()},I=(e,o,s,n="#93c5fd",t=2,i=1)=>{let a=0;i<=.15?a=0:i>=.85?a=1:a=(i-.15)/.7;const u=Math.PI*2*a,c=a<1;c&&a>0&&(e.strokeStyle="rgba(251, 191, 36, 0.5)",e.lineWidth=t*10,e.lineCap="round",e.beginPath(),e.arc(o.x,o.y,s,0,u),e.stroke()),a>0&&(e.strokeStyle=n,e.lineWidth=c?t*1.5:t,e.lineCap="round",e.beginPath(),e.arc(o.x,o.y,s,0,u),e.stroke())},re=(e,o,s,n)=>{if(!R||!Ye||!se.current)return;let t=0;if(n<.15)t=n/.15;else if(n>=.15&&n<=.85)t=1;else if(n>.85&&n<1)t=(1-n)/.15;else return;const i=se.current,a=800,u=400;e.save();const c=s.x-o.x,r=s.y-o.y,f=Math.sqrt(c*c+r*r),l=Math.atan2(r,c);e.translate(o.x,o.y),e.rotate(l),e.globalAlpha=t;const g=f/2-a/2;e.drawImage(i,g,-u,a,u),e.restore()},Q=(e,o,s,n,t)=>{if(!R||!Me||!ie.current)return;let i=0;if(n<.15)i=n/.15;else if(n>=.15&&n<=.85)i=1;else if(n>.85&&n<1)i=(1-n)/.15;else return;const a=ie.current,u=s,c=s;e.save(),e.translate(o.x,o.y),e.rotate(t),e.globalAlpha=i,e.drawImage(a,0,-c,u,c),e.restore()},N=[{id:0,title:"Narýsuj stranu AB",description:j?`Začneme stranou AB o délce ${v.ab} cm. Body A a B můžeš přesouvat myší!`:"Začneme stranou AB trojúhelníku. Body A a B můžeš přesouvat myší!",draw:(e,o,s,n,t,i,a,u,c)=>{const r=window.devicePixelRatio||1,f=Math.atan2(t.y-n.y,t.x-n.x),l=d?"#e5e7eb":"#1f2937";X(e,n,t,l,6,c),T(e,n,f,l,k==="A"),T(e,t,f,l,k==="B"),S(e,n,"A",l,-25,-12,r),S(e,t,"B",l,12,-12,r),R&&c>.85&&Y(e,n,t,j?v.ab:5,r)}},{id:1,title:"Zapíchni kružítko do bodu A",description:j?`Zapíchneme kružítko do bodu A a vezmeme do něj délku strany AC = ${v.ac} cm.`:"Zapíchneme kružítko do bodu A a vezmeme do něj délku strany AC.",draw:(e,o,s,n,t,i,a,u,c)=>{const r=window.devicePixelRatio||1,f=Math.atan2(t.y-n.y,t.x-n.x),l=d?"#e5e7eb":"#1f2937",g=d?"#fca5a5":"#ef4444";X(e,n,t,l,6,1),T(e,n,f,g,k==="A"),T(e,t,f,l,k==="B"),S(e,n,"A",g,-25,-12,r),S(e,t,"B",l,12,-12,r),R&&Y(e,n,t,j?v.ab:5,r)}},{id:2,title:"Narýsuj kružnici z bodu A",description:j?`S kružítkem v bodě A narýsujeme kružnici s poloměrem AC = ${v.ac} cm.`:"S kružítkem zapíchnutým v bodě A narýsujeme kružnici s poloměrem AC.",draw:(e,o,s,n,t,i,a,u,c)=>{const r=window.devicePixelRatio||1,f=Math.atan2(t.y-n.y,t.x-n.x),l=d?"#e5e7eb":"#1f2937",g=d?"#93c5fd":"#3b82f6";X(e,n,t,l,6,1),I(e,n,i,g,4,c),T(e,n,f,l,k==="A"),T(e,t,f,l,k==="B"),S(e,n,"A",l,-25,-12,r),S(e,t,"B",l,12,-12,r),R&&Y(e,n,t,j?v.ab:5,r)}},{id:3,title:"Zapíchni kružítko do bodu B",description:j?`Teď zapíchneme kružítko do bodu B a vezmeme do něj délku strany BC = ${v.bc} cm.`:"Teď zapíchneme kružítko do bodu B a vezmeme do něj délku strany BC.",draw:(e,o,s,n,t,i,a,u,c)=>{const r=window.devicePixelRatio||1,f=Math.atan2(t.y-n.y,t.x-n.x),l=d?"#e5e7eb":"#1f2937",g=d?"#93c5fd":"#3b82f6",p=d?"#fca5a5":"#ef4444";X(e,n,t,l,6,1),I(e,n,i,g,4,1),T(e,n,f,l,k==="A"),T(e,t,f,p,k==="B"),S(e,n,"A",l,-25,-12,r),S(e,t,"B",p,12,-12,r),R&&Y(e,n,t,j?v.ab:5,r)}},{id:4,title:"Narýsuj kružnici z bodu B",description:j?`S kružítkem v bodě B narýsujeme kružnici s poloměrem BC = ${v.bc} cm.`:"S kružítkem v bodě B narýsujeme kružnici s poloměrem BC.",draw:(e,o,s,n,t,i,a,u,c)=>{const r=window.devicePixelRatio||1,f=Math.atan2(t.y-n.y,t.x-n.x),l=d?"#e5e7eb":"#1f2937",g=d?"#93c5fd":"#3b82f6";X(e,n,t,l,6,1),I(e,n,i,g,4,1),I(e,t,a,g,4,c),T(e,n,f,l,k==="A"),T(e,t,f,l,k==="B"),S(e,n,"A",l,-25,-12,r),S(e,t,"B",l,12,-12,r),R&&Y(e,n,t,j?v.ab:5,r)}},{id:5,title:"Označ průsečík jako bod C",description:"Bod, ve kterém se kružnice protly, pojmenujeme C. To je třetí vrchol trojúhelníku.",draw:(e,o,s,n,t,i,a,u,c)=>{const r=window.devicePixelRatio||1,f=Math.atan2(t.y-n.y,t.x-n.x),l=d?"#e5e7eb":"#1f2937",g=d?"#93c5fd":"#3b82f6";X(e,n,t,l,6,1),I(e,n,i,g,4,1),I(e,t,a,g,4,1),T(e,n,f,l,k==="A"),T(e,t,f,l,k==="B"),S(e,n,"A",l,-25,-12,r),S(e,t,"B",l,12,-12,r),R&&Y(e,n,t,j?v.ab:5,r)}},{id:6,title:"Dorýsuj trojúhelník",description:"Spojíme body A-C a B-C. Trojúhelník ABC je hotový!",draw:(e,o,s,n,t,i,a,u,c)=>{const r=window.devicePixelRatio||1,f=Math.atan2(t.y-n.y,t.x-n.x),l=d?"#e5e7eb":"#1f2937",g=d?"#93c5fd":"#3b82f6",p=d?"#6ee7b7":"#10b981";X(e,n,t,l,6,1);const K=c*2;K<=1?X(e,n,u.top,p,5,K):(X(e,n,u.top,p,5,1),X(e,t,u.top,p,5,K-1)),I(e,n,i,g,4,1),I(e,t,a,g,4,1),T(e,n,f,l,k==="A"),T(e,t,f,l,k==="B"),S(e,n,"A",l,-25,-12,r),S(e,t,"B",l,12,-12,r),R&&(Y(e,n,t,j?v.ab:5,r),c>.85&&(Y(e,n,u.top,j?v.ac:4,r),Y(e,t,u.top,j?v.bc:3,r)))}},{id:7,title:"Opsat trojúhelník",description:"Připíšeme délky stran.",draw:(e,o,s,n,t,i,a,u,c)=>{const r=window.devicePixelRatio||1,f=Math.atan2(t.y-n.y,t.x-n.x),l=d?"#e5e7eb":"#1f2937",g=d?"#93c5fd":"#3b82f6",p=d?"#6ee7b7":"#10b981";X(e,n,t,l,6,1),X(e,n,u.top,p,5,1),X(e,t,u.top,p,5,1),I(e,n,i,g,4,1),I(e,t,a,g,4,1),T(e,n,f,l,k==="A"),T(e,t,f,l,k==="B"),S(e,n,"A",l,-25,-12,r),S(e,t,"B",l,12,-12,r),S(e,u.top,"C",p,12,-12,r),R&&c>0&&(e.globalAlpha=Math.min(c/.3,1),Y(e,n,t,j?v.ab:5,r),c>.3&&(e.globalAlpha=Math.min((c-.3)/.3,1),Y(e,n,u.top,j?v.ac:4,r)),c>.6&&(e.globalAlpha=Math.min((c-.6)/.3,1),Y(e,t,u.top,j?v.bc:3,r)),e.globalAlpha=1)}}],qe=(e,o)=>{const s=window.devicePixelRatio||1;if(!M.current||M.current.width===0||M.current.height===0)return;e.clearRect(0,0,M.current.width,M.current.height),e.save(),e.scale(s,s),Ze(e),e.translate(m.x,m.y),e.scale(b,b);for(let t=0;t<y;t++)N[t].draw(e,b,m,w,P,_,H,B,1,y,N[t].id);if(N[y].draw(e,b,m,w,P,_,H,B,o,y,N[y].id),R&&o>0){if(y===0)re(e,w,P,o);else if(y===1)Q(e,w,_,o,0);else if(y===2){const t=o>.15?Math.PI*2*((o-.15)/.7):0;Q(e,w,_,o,t)}else if(y===3)Q(e,P,H,o,0);else if(y===4){const t=o>.15?Math.PI*2*((o-.15)/.7):0;Q(e,P,H,o,t)}else if(y===6){const t=o*2;t<=1?re(e,w,B.top,t):re(e,P,B.top,t-1)}}const n=d?"#fca5a5":"#ef4444";if(y>=5)if(y===5&&o>.3){const t=Math.min((o-.3)/.7,1);e.globalAlpha=t,we(e,B.top,"C",n),e.globalAlpha=1,t>.5&&S(e,B.top,"C",n,12,-12,s)}else y>=6&&(we(e,B.top,"C",n),S(e,B.top,"C",n,12,-12,s));e.restore()};h.useEffect(()=>{const e=z.current,o=M.current;if(!e||!o||e.width===0||e.height===0||o.width===0||o.height===0)return;const s=e.getContext("2d"),n=o.getContext("2d");if(!s||!n)return;qe(n,E),s.setTransform(1,0,0,1,0,0),s.clearRect(0,0,e.width,e.height);const t=E<.05?E/.05:1;s.globalAlpha=t,s.drawImage(o,0,0),s.globalAlpha=1},[y,b,m,C,w,P,k,E,R,d]);const ve=e=>{pe(e),ue(0),fe(!0)},Oe=e=>{const o=z.current?.getBoundingClientRect();if(!o)return;const s=e.clientX-o.left,n=e.clientY-o.top,t=J(s,n),i={x:s,y:n};if(Z(w,t)||q(w,i,{x:-25,y:-12})){F("A");return}if(Z(P,t)||q(P,i,{x:12,y:-12})){F("B");return}G(!0),ce({x:e.clientX-m.x,y:e.clientY-m.y})},_e=e=>{const o=z.current?.getBoundingClientRect();if(!o)return;const s=e.clientX-o.left,n=e.clientY-o.top,t=J(s,n),i={x:s,y:n};if(D==="A"){de(t);return}if(D==="B"){ge(t);return}if(ne){W({x:e.clientX-V.x,y:e.clientY-V.y});return}Z(w,t)||q(w,i,{x:-25,y:-12})?ae("A"):Z(P,t)||q(P,i,{x:12,y:-12})?ae("B"):ae(null)},Ce=()=>{G(!1),F(null)},Pe=(e,o)=>{const s=e.clientX-o.clientX,n=e.clientY-o.clientY;return Math.sqrt(s*s+n*n)},Se=(e,o)=>({x:(e.clientX+o.clientX)/2,y:(e.clientY+o.clientY)/2}),He=e=>{const o=z.current?.getBoundingClientRect();if(!o)return;if(e.touches.length===2){const u=Pe(e.touches[0],e.touches[1]),c=Se(e.touches[0],e.touches[1]);ye(!0),Ee(u),Ne(b),We(c),e.preventDefault();return}if(e.touches.length!==1)return;const s=e.touches[0],n=s.clientX-o.left,t=s.clientY-o.top,i=J(n,t),a={x:n,y:t};if(Z(w,i)||q(w,a,{x:-25,y:-12})){F("A"),e.preventDefault();return}if(Z(P,i)||q(P,a,{x:12,y:-12})){F("B"),e.preventDefault();return}G(!0),ce({x:s.clientX-m.x,y:s.clientY-m.y}),e.preventDefault()},Ke=e=>{const o=z.current?.getBoundingClientRect();if(!o)return;if(e.touches.length===2&&xe){const a=Pe(e.touches[0],e.touches[1]),u=Se(e.touches[0],e.touches[1]),c=a/Be,r=Math.max(.2,Math.min(.6,Le*c)),f=u.x-o.left,l=u.y-o.top,g=r/b,p={x:f-(f-m.x)*g,y:l-(l-m.y)*g};te(r),W(p),e.preventDefault();return}if(e.touches.length!==1)return;const s=e.touches[0],n=s.clientX-o.left,t=s.clientY-o.top,i=J(n,t);if(D==="A"){de(i),e.preventDefault();return}if(D==="B"){ge(i),e.preventDefault();return}if(ne){W({x:s.clientX-V.x,y:s.clientY-V.y}),e.preventDefault();return}},je=()=>{G(!1),F(null),ye(!1)},Ue=e=>{e.preventDefault();const o=e.deltaY>0?.9:1.1,s=Math.max(.2,Math.min(.6,b*o)),n=z.current?.getBoundingClientRect();if(!n)return;const t=n.width/2,i=n.height/2,a=s/b;W({x:t-(t-m.x)*a,y:i-(i-m.y)*a}),te(s)},Ge=()=>D?"grabbing":k?"move":ne?"grabbing":"grab",Ve=()=>{ve(0),be()};return A.jsxs("div",{className:"size-full flex flex-col relative",children:[A.jsx("div",{ref:U,className:`flex-1 ${d?"bg-[#1a1b26]":"bg-white"}`,children:A.jsx("canvas",{ref:z,className:"w-full h-full",style:{cursor:Ge(),touchAction:"none"},onMouseDown:Oe,onMouseMove:_e,onMouseUp:Ce,onMouseLeave:Ce,onTouchStart:He,onTouchMove:Ke,onTouchEnd:je,onTouchCancel:je,onWheel:Ue})}),A.jsxs("button",{onClick:le,onTouchEnd:e=>{e.preventDefault(),le()},className:`absolute top-4 left-4 z-10 flex items-center gap-2 px-3 py-2 rounded-xl shadow-[0_2px_12px_rgba(0,0,0,0.08)] transition-all ${d?"bg-[#1a1b26]/90 hover:bg-[#24283b] text-[#c0caf5] border border-[#2a2b3d] backdrop-blur-sm":"bg-white/90 hover:bg-gray-50 border border-gray-200/60 backdrop-blur-sm"}`,children:[A.jsx(Je,{className:"size-5"}),A.jsx("span",{className:"text-sm font-medium",children:"Menu"})]}),A.jsx("div",{className:`absolute top-4 z-10 transition-all duration-300 ${$?"right-[576px]":"right-4"}`,children:A.jsxs("button",{onClick:()=>oe(!$),onTouchEnd:e=>{e.preventDefault(),oe(!$)},className:`p-3 rounded-xl transition-all relative group/protocol ${$?d?"bg-[#7aa2f7] text-white":"bg-[#1e1b4b] text-white":d?"bg-[#24283b] hover:bg-[#414868] text-[#c0caf5]":"bg-white/90 hover:bg-gray-50 text-gray-700 shadow-[0_2px_12px_rgba(0,0,0,0.08)] border border-gray-200/60 backdrop-blur-sm"}`,title:"Zápis konstrukce",children:[A.jsx(et,{className:"size-5"}),!$&&A.jsx("div",{className:"absolute right-0 top-full mt-2 px-3 py-1.5 bg-black/80 text-white text-xs rounded-lg whitespace-nowrap opacity-0 group-hover/protocol:opacity-100 transition-opacity pointer-events-none",children:"Zápis konstrukce"})]})}),A.jsxs("div",{className:`absolute top-4 left-1/2 -translate-x-1/2 z-10 rounded-2xl shadow-lg max-w-2xl ${d?"bg-gray-900 border border-gray-800 text-[#c0caf5]":"bg-white border border-gray-200 text-gray-900"}`,style:{fontFamily:"var(--font-family, 'Fenomen Sans', sans-serif)",padding:"24px 40px"},children:[A.jsxs("div",{className:`text-base font-medium mb-3 ${d?"text-[#565f89]":"text-gray-400"}`,children:["Krok ",y+1," / ",N.length]}),A.jsx("div",{className:`text-lg font-medium ${d?"text-[#c0caf5]":"text-gray-800"}`,children:N[y]?.description})]}),A.jsx(tt,{currentStep:y,totalSteps:N.length,showCaptions:R,darkMode:d,scale:b,onStepChange:ve,onRestart:Ve,onToggleCaptions:()=>Re(!R),onToggleDarkMode:()=>ke(!d),onZoomChange:e=>{const o=Math.max(.2,Math.min(.6,e)),s=C.width/2,n=C.height/2,t=(s-m.x)/b,i=(n-m.y)/b;te(o),W({x:s-t*o,y:n-i*o})}}),A.jsx(nt,{steps:Xe,currentStep:y,constructionTitle:"Konstrukce trojúhelníku (SSS)",darkMode:d,visible:$,onClose:()=>oe(!1)})]})}export{lt as TriangleConstruction};
