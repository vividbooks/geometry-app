import{r as u,j as i,A as zt}from"./index-BRGJiicw.js";import{u as Bt,S as Ve,a as Ke,M as Ge}from"./slider-DpSH4nPl.js";import{B as Rt}from"./BigNumberInput-CRA-tSZu.js";import{C as Ue,R as Je,a as Qe,b as _e,I as et}from"./rotate-ccw-CNxnNR_N.js";function Wt({onBack:tt,darkMode:c,onDarkModeChange:xe}){const ve=Bt(),k=u.useRef(null),z=u.useRef(null),G=u.useRef(null),ue=u.useRef(),[a,je]=u.useState(0),[p,U]=u.useState(ve?.15:.5),[b,L]=u.useState({x:0,y:0}),[he,J]=u.useState(!1),[Q,we]=u.useState({x:0,y:0}),[y,nt]=u.useState({width:1920,height:1080}),[X,_]=u.useState(0),[Se,ee]=u.useState(!0),[x,Ae]=u.useState(!0),de=u.useRef(null),[st,it]=u.useState(!1),ge=u.useRef(null),[ot,rt]=u.useState(!1),[d,Pe]=u.useState({x:860,y:900}),[f,Ne]=u.useState({x:1460,y:900}),[H,W]=u.useState(null),[te,me]=u.useState(null),[Ie,at]=u.useState(!1),[lt,ke]=u.useState(!1),[ct,ut]=u.useState(0),[ht,dt]=u.useState(1),[Tt,gt]=u.useState({x:0,y:0}),[v,ze]=u.useState(null),[A,Be]=u.useState(null),[P,Re]=u.useState(null),[Te,E]=u.useState(""),[S,R]=u.useState(!0),ye=Math.sqrt(Math.pow(f.x-d.x,2)+Math.pow(f.y-d.y,2)),F=A&&v?ye*(A/v):0,O=P&&v?ye*(P/v):0,j=(()=>{if(!A||!P||!v)return null;const e=ye,t=F,n=O;if(e>t+n||e<Math.abs(t-n)||e===0)return null;const s=(e*e+t*t-n*n)/(2*e),o=t*t-s*s;if(o<0)return null;const r=Math.sqrt(o),l=d.x+(f.x-d.x)*(s/e),h=d.y+(f.y-d.y)*(s/e),g=f.x-d.x,w=-(f.y-d.y)/e,N=g/e;return{top:{x:l+r*w,y:h+r*N},bottom:{x:l-r*w,y:h-r*N}}})();u.useEffect(()=>{z.current||(z.current=document.createElement("canvas"))},[]),u.useEffect(()=>{const e=new Image;e.crossOrigin="anonymous",e.onload=()=>{de.current=e,it(!0)},e.onerror=()=>console.error("Failed to load ruler image"),e.src="https://jjpiguuubvmiobmixwgh.supabase.co/storage/v1/object/public/Admin%20math/pravitko4.svg"},[]),u.useEffect(()=>{const e=new Image;e.crossOrigin="anonymous",e.onload=()=>{ge.current=e,rt(!0)},e.onerror=()=>console.error("Failed to load compass image"),e.src="https://jjpiguuubvmiobmixwgh.supabase.co/storage/v1/object/public/Admin%20math/kruzitko.svg"},[]);const ne=(e,t)=>({x:(e-b.x)/p,y:(t-b.y)/p}),M=(e,t,n=15)=>{const s=e.x-t.x,o=e.y-t.y;return Math.sqrt(s*s+o*o)<n},Z=(e,t,n)=>{const s=e.x*p+b.x,o=e.y*p+b.y,r=s+n.x,l=o+n.y,h=20,g=t.x-r,m=t.y-(l-8);return Math.sqrt(g*g+m*m)<h},Xe=()=>{if(!y.width||!y.height)return;const e=(d.x+f.x)/2,t=d.y,n=y.width/2,s=y.height/2;L({x:n-e*p,y:s-t*p})};u.useEffect(()=>{const e=()=>{G.current&&nt({width:G.current.clientWidth,height:G.current.clientHeight})};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),u.useEffect(()=>{y.width>0&&y.height>0&&(Xe(),Ie||at(!0))},[y.width,y.height,Ie]),u.useEffect(()=>{const e=k.current,t=z.current;if(!e||!t)return;const n=window.devicePixelRatio||1;e.width=y.width*n,e.height=y.height*n,t.width=y.width*n,t.height=y.height*n},[y]),u.useEffect(()=>(Se&&X<1&&!S?ue.current=requestAnimationFrame(()=>{let e=.008;a===1||a===3?e=.002:(a===2||a===4)&&(e=.005),_(t=>Math.min(t+e,1))}):X>=1&&ee(!1),()=>{ue.current&&cancelAnimationFrame(ue.current)}),[Se,X,a,S]);const mt=()=>{if(E(""),a===0){if(v===null||v<0){E("Zadej prosím platnou délku (0-99 cm)");return}if(v===0){E("Délka strany musí být větší než 0 cm");return}R(!1)}else if(a===1){if(A===null||A<=0){E("Zadej prosím kladné číslo větší než 0");return}R(!1)}else if(a===3){if(P===null||P<=0){E("Zadej prosím kladné číslo větší než 0");return}R(!1)}},yt=e=>{e.strokeStyle=c?"rgba(31, 41, 55, 0.3)":"rgba(229, 231, 235, 0.5)",e.lineWidth=1;for(let n=0;n<=y.width;n+=20)e.beginPath(),e.moveTo(n,0),e.lineTo(n,y.height),e.stroke();for(let n=0;n<=y.height;n+=20)e.beginPath(),e.moveTo(0,n),e.lineTo(y.width,n),e.stroke()},se=(e,t,n,s="#000",o=12,r=-12,l=1)=>{e.save(),e.setTransform(l,0,0,l,0,0);const h=t.x*p+b.x,g=t.y*p+b.y;e.font="600 22px Arial, sans-serif";const w=e.measureText(n).width,N=h+o+w/2,B=g+r-8,$=Math.max(w,16)/2+6;e.fillStyle=c?"rgba(55, 65, 81, 0.5)":"rgba(200, 200, 200, 0.35)",e.beginPath(),e.arc(N,B,$,0,Math.PI*2),e.fill(),e.fillStyle=s,e.fillText(n,h+o,g+r),e.restore()},Ye=(e,t,n,s="#000",o=!1)=>{const r=o?24:20,l=n+Math.PI/2,h={x:t.x+Math.cos(l)*r/2,y:t.y+Math.sin(l)*r/2},g={x:t.x-Math.cos(l)*r/2,y:t.y-Math.sin(l)*r/2};e.strokeStyle=s,e.lineWidth=6,e.lineCap="butt",e.beginPath(),e.moveTo(h.x,h.y),e.lineTo(g.x,g.y),e.stroke(),o&&(e.fillStyle=c?"rgba(96, 165, 250, 0.25)":"rgba(59, 130, 246, 0.15)",e.beginPath(),e.arc(t.x,t.y,18,0,Math.PI*2),e.fill())},$e=(e,t,n,s="#000")=>{e.fillStyle=c?"rgba(75, 85, 99, 0.4)":"rgba(200, 200, 200, 0.3)",e.beginPath(),e.arc(t.x,t.y,10,0,Math.PI*2),e.fill(),e.fillStyle=s,e.beginPath(),e.arc(t.x,t.y,7,0,Math.PI*2),e.fill(),e.strokeStyle=c?"#111827":"#ffffff",e.lineWidth=2,e.beginPath(),e.arc(t.x,t.y,7,0,Math.PI*2),e.stroke()},q=(e,t,n,s,o=1)=>{const r=(t.x+n.x)/2,l=(t.y+n.y)/2,h=n.x-t.x,g=n.y-t.y,m=Math.atan2(g,h);e.save(),e.setTransform(o,0,0,o,0,0);const w=r*p+b.x,N=l*p+b.y;e.translate(w,N),e.rotate(m);const B=`${s}cm`;e.font="600 18px Arial, sans-serif",e.fillStyle=c?"#e5e7eb":"#1f2937",e.textAlign="center",e.textBaseline="bottom",e.fillText(B,0,-8),e.restore()},ie=(e,t,n,s="#000",o=2,r=1)=>{let l=0;r<=.15?l=0:r>=.85?l=1:l=(r-.15)/.7;const h={x:t.x+(n.x-t.x)*l,y:t.y+(n.y-t.y)*l},g=l<1;g&&l>0&&(e.strokeStyle="rgba(251, 191, 36, 0.5)",e.lineWidth=o*10,e.lineCap="round",e.beginPath(),e.moveTo(t.x,t.y),e.lineTo(h.x,h.y),e.stroke()),l>0&&(e.strokeStyle=s,e.lineWidth=g?o*1.5:o,e.lineCap="round",e.beginPath(),e.moveTo(t.x,t.y),e.lineTo(h.x,h.y),e.stroke())},Ce=(e,t,n,s="#93c5fd",o=2,r=1)=>{let l=0;r<=.15?l=0:r>=.85?l=1:l=(r-.15)/.7;const h=Math.PI*2*l,g=l<1;g&&l>0&&(e.strokeStyle="rgba(251, 191, 36, 0.5)",e.lineWidth=o*10,e.lineCap="round",e.beginPath(),e.arc(t.x,t.y,n,0,h),e.stroke()),l>0&&(e.strokeStyle=s,e.lineWidth=g?o*1.5:o,e.lineCap="round",e.beginPath(),e.arc(t.x,t.y,n,0,h),e.stroke())},fe=(e,t,n,s)=>{if(!x||!st||!de.current)return;let o=0;if(s<.15)o=s/.15;else if(s>=.15&&s<=.85)o=1;else if(s>.85&&s<1)o=(1-s)/.15;else return;const r=de.current,l=800,h=400;e.save();const g=n.x-t.x,m=n.y-t.y,w=Math.sqrt(g*g+m*m),N=Math.atan2(m,g);e.translate(t.x,t.y),e.rotate(N),e.globalAlpha=o;const B=w/2-l/2;e.drawImage(r,B,-h,l,h),e.restore()},oe=(e,t,n,s,o)=>{if(!x||!ot||!ge.current)return;let r=0;if(s<.15)r=s/.15;else if(s>=.15&&s<=.85)r=1;else if(s>.85&&s<1)r=(1-s)/.15;else return;const l=ge.current,h=n,g=n;e.save(),e.translate(t.x,t.y),e.rotate(o),e.globalAlpha=r,e.drawImage(l,0,-g,h,g),e.restore()},Y=(()=>{switch(a){case 0:return{title:"Narýsuj stranu AB",description:S?"Kolik centimetrů má mít strana AB?":`Rýsujeme stranu AB = ${v} cm. Body A a B můžeš přesouvat myší!`,needsInput:S,inputLabel:"Délka strany AB (cm)"};case 1:return{title:"Zapíchni kružítko do bodu A",description:S?"Kolik centimetrů má mít strana AC?":`Zapíchneme kružítko do bodu A a vezmeme do něj délku AC = ${A} cm.`,needsInput:S,inputLabel:"Délka strany AC (cm)"};case 2:return{title:"Narýsuj kružnici z bodu A",description:`Rýsujeme kružnici z bodu A s poloměrem AC = ${A} cm.`,needsInput:!1};case 3:return{title:"Zapíchni kružítko do bodu B",description:S?"Kolik centimetrů má mít strana BC?":`Zapíchneme kružítko do bodu B a vezmeme do něj délku BC = ${P} cm.`,needsInput:S,inputLabel:"Délka strany BC (cm)"};case 4:return{title:"Narýsuj kružnici z bodu B",description:`Rýsujeme kružnici z bodu B s poloměrem BC = ${P} cm.`,needsInput:!1};case 5:return j?{title:"Označ průsečík jako bod C",description:"Bod, ve kterém se kružnice protly, pojmenujeme C. To je třetí vrchol trojúhelníku.",needsInput:!1}:{title:"Kružnice se neprotly! ❌",description:"Tyto strany netvoří trojúhelník. Součet dvou stran musí být větší než třetí strana.",needsInput:!1,error:!0};case 6:return{title:"Dorýsuj trojúhelník",description:"Spojíme body A-C a B-C. Trojúhelník ABC je hotový!",needsInput:!1};case 7:return{title:"Opsat trojúhelník",description:"Připíšeme délky stran.",needsInput:!1};default:return{title:"",description:"",needsInput:!1}}})(),ft=(e,t)=>{const n=window.devicePixelRatio||1;if(!z.current||z.current.width===0||z.current.height===0)return;if(e.clearRect(0,0,z.current.width,z.current.height),e.save(),e.scale(n,n),yt(e),x){const m=y.width<768;e.fillStyle=c?"#e5e7eb":"#1f2937",e.font=m?"600 20px Arial, sans-serif":"600 28px Arial, sans-serif",e.textAlign="center";const w=v?`Trojúhelník AB=${v}cm`:"Vlastní trojúhelník";e.fillText(w,y.width/2,m?40:60),e.font=m?"400 13px Arial, sans-serif":"400 16px Arial, sans-serif";const N=Y.description,$=e.measureText(N).width,V=m?18:22,T=m?12:16,ae=m?180:120;if(m&&$>y.width-40){const be=y.width-40,pe=N.split(" "),C=[];let I="";for(const D of pe){const ce=I?`${I} ${D}`:D;e.measureText(ce).width>be&&I?(C.push(I),I=D):I=ce}I&&C.push(I);const le=Math.max(...C.map(D=>e.measureText(D).width)),K=C.length*(V+4),St=y.width/2-le/2-T,At=y.height-ae-K-T/2,Pt=le+T*2,Nt=K+T,It=Y.error?c?"rgba(220, 38, 38, 0.2)":"rgba(254, 202, 202, 0.95)":c?"rgba(31, 41, 55, 0.95)":"rgba(255, 255, 255, 0.95)";e.fillStyle=It,e.beginPath(),e.roundRect(St,At,Pt,Nt,8),e.fill();const kt=Y.error?c?"#fca5a5":"#dc2626":c?"#9ca3af":"#4b5563";e.fillStyle=kt,C.forEach((D,ce)=>{const Oe=y.height-ae-K+ce*(V+4)+V;e.fillText(D,y.width/2,Oe)})}else{const be=y.width/2-$/2-T,pe=y.height-ae-V-T/2,C=$+T*2,I=V+T,le=Y.error?c?"rgba(220, 38, 38, 0.2)":"rgba(254, 202, 202, 0.95)":c?"rgba(31, 41, 55, 0.95)":"rgba(255, 255, 255, 0.95)";e.fillStyle=le,e.beginPath(),e.roundRect(be,pe,C,I,8),e.fill();const K=Y.error?c?"#fca5a5":"#dc2626":c?"#9ca3af":"#4b5563";e.fillStyle=K,e.fillText(N,y.width/2,y.height-ae)}e.textAlign="left"}e.translate(b.x,b.y),e.scale(p,p);const s=window.devicePixelRatio||1,o=Math.atan2(f.y-d.y,f.x-d.x),r=c?"#e5e7eb":"#1f2937",l=c?"#93c5fd":"#3b82f6",h=c?"#fca5a5":"#ef4444",g=c?"#6ee7b7":"#10b981";if(a>=0&&v&&(ie(e,d,f,r,6,a===0&&!S?t:1),Ye(e,d,o,r,te==="A"),Ye(e,f,o,r,te==="B"),se(e,d,"A",r,-25,-12,s),se(e,f,"B",r,12,-12,s),a===0&&!S&&x&&fe(e,d,f,t),(a>0||a===0&&!S&&t>.85)&&x&&q(e,d,f,v,s)),a>=1&&A&&F>0&&(a===1&&!S&&x&&oe(e,d,F,t,0),a>=2&&(Ce(e,d,F,l,4,a===2?t:1),a===2&&x))){const w=t>.15?Math.PI*2*((t-.15)/.7):0;oe(e,d,F,t,w)}if(a>=3&&P&&O>0&&(a===3&&!S&&x&&oe(e,f,O,t,0),a>=4&&(Ce(e,f,O,l,4,a===4?t:1),a===4&&x))){const w=t>.15?Math.PI*2*((t-.15)/.7):0;oe(e,f,O,t,w)}if(a>=5&&j)if(a===5&&t>.3){const m=Math.min((t-.3)/.7,1);e.globalAlpha=m,$e(e,j.top,"C",h),e.globalAlpha=1,m>.5&&se(e,j.top,"C",h,12,-12,s)}else a>=6&&($e(e,j.top,"C",h),se(e,j.top,"C",h,12,-12,s));if(a>=6&&j&&A&&P){const m=t*2;m<=1?(ie(e,d,j.top,g,5,m),x&&fe(e,d,j.top,m)):(ie(e,d,j.top,g,5,1),ie(e,f,j.top,g,5,m-1),x&&fe(e,f,j.top,m-1)),(a>6||a===6&&t>.85)&&x&&(q(e,d,j.top,A,s),q(e,f,j.top,P,s))}a>=7&&j&&v&&A&&P&&x&&t>0&&(e.globalAlpha=Math.min(t/.3,1),q(e,d,f,v,s),t>.3&&(e.globalAlpha=Math.min((t-.3)/.3,1),q(e,d,j.top,A,s)),t>.6&&(e.globalAlpha=Math.min((t-.6)/.3,1),q(e,f,j.top,P,s)),e.globalAlpha=1),e.restore()};u.useEffect(()=>{const e=k.current,t=z.current;if(!e||!t||e.width===0||e.height===0||t.width===0||t.height===0)return;const n=e.getContext("2d"),s=t.getContext("2d");if(!n||!s)return;ft(s,X),n.clearRect(0,0,e.width,e.height);const o=X<.05?X/.05:1;n.globalAlpha=o,n.drawImage(t,0,0),n.globalAlpha=1},[a,p,b,y,d,f,te,X,x,c,v,A,P,S]);const re=e=>{e>a&&(a===0&&!v||a===1&&!A||a===3&&!P||a===5&&!j)||(je(e),_(0),ee(!0),R(e===0&&!v||e===1&&!A?!0:e===3&&!P))},bt=e=>{const t=k.current?.getBoundingClientRect();if(!t)return;const n=e.clientX-t.left,s=e.clientY-t.top,o=ne(n,s),r={x:n,y:s};if(M(d,o)||Z(d,r,{x:-25,y:-12})){W("A");return}if(M(f,o)||Z(f,r,{x:12,y:-12})){W("B");return}J(!0),we({x:e.clientX-b.x,y:e.clientY-b.y})},pt=e=>{const t=k.current?.getBoundingClientRect();if(!t)return;const n=e.clientX-t.left,s=e.clientY-t.top,o=ne(n,s),r={x:n,y:s};if(H==="A"){Pe(o);return}if(H==="B"){Ne(o);return}if(he){L({x:e.clientX-Q.x,y:e.clientY-Q.y});return}M(d,o)||Z(d,r,{x:-25,y:-12})?me("A"):M(f,o)||Z(f,r,{x:12,y:-12})?me("B"):me(null)},De=()=>{J(!1),W(null)},Le=(e,t)=>{const n=e.clientX-t.clientX,s=e.clientY-t.clientY;return Math.sqrt(n*n+s*s)},We=(e,t)=>({x:(e.clientX+t.clientX)/2,y:(e.clientY+t.clientY)/2}),xt=e=>{const t=k.current?.getBoundingClientRect();if(!t)return;if(e.touches.length===2){const h=Le(e.touches[0],e.touches[1]),g=We(e.touches[0],e.touches[1]);ke(!0),ut(h),dt(p),gt(g),e.preventDefault();return}if(e.touches.length!==1)return;const n=e.touches[0],s=n.clientX-t.left,o=n.clientY-t.top,r=ne(s,o),l={x:s,y:o};if(M(d,r)||Z(d,l,{x:-25,y:-12})){W("A"),e.preventDefault();return}if(M(f,r)||Z(f,l,{x:12,y:-12})){W("B"),e.preventDefault();return}J(!0),we({x:n.clientX-b.x,y:n.clientY-b.y}),e.preventDefault()},vt=e=>{const t=k.current?.getBoundingClientRect();if(!t)return;if(e.touches.length===2&&lt){const l=Le(e.touches[0],e.touches[1]),h=We(e.touches[0],e.touches[1]),g=l/ct,m=Math.max(.15,Math.min(2.25,ht*g)),w=h.x-t.left,N=h.y-t.top,B=m/p,$={x:w-(w-b.x)*B,y:N-(N-b.y)*B};U(m),L($),e.preventDefault();return}if(e.touches.length!==1)return;const n=e.touches[0],s=n.clientX-t.left,o=n.clientY-t.top,r=ne(s,o);if(H==="A"){Pe(r),e.preventDefault();return}if(H==="B"){Ne(r),e.preventDefault();return}if(he){L({x:n.clientX-Q.x,y:n.clientY-Q.y}),e.preventDefault();return}},Ee=()=>{J(!1),W(null),ke(!1)},jt=e=>{e.preventDefault();const t=e.deltaY>0?.9:1.1,n=Math.max(.15,Math.min(2.25,p*t)),s=k.current?.getBoundingClientRect();if(!s)return;const o=s.width/2,r=s.height/2,l=n/p;L({x:o-(o-b.x)*l,y:r-(r-b.y)*l}),U(n)},Me=e=>{const t=e[0]/100,n=k.current?.getBoundingClientRect();if(!n){U(t);return}const s=n.width/2,o=n.height/2,r=t/p;L({x:s-(s-b.x)*r,y:o-(o-b.y)*r}),U(t)},wt=()=>H?"grabbing":te?"move":he?"grabbing":"grab",Ze=()=>{je(0),ze(null),Be(null),Re(null),E(""),R(!0),_(0),ee(!0),Xe()},qe=()=>{_(0),ee(!0)},He=()=>a===0&&S||a===1&&S||a===3&&S||a===5&&!j?!1:a<7,Fe=()=>a>0;return i.jsxs("div",{className:"size-full flex flex-col relative",children:[i.jsx("div",{ref:G,className:`flex-1 ${c?"bg-[#111827]":"bg-[#f9fafb]"}`,children:i.jsx("canvas",{ref:k,className:"w-full h-full",style:{cursor:wt(),touchAction:"none"},onMouseDown:bt,onMouseMove:pt,onMouseUp:De,onMouseLeave:De,onTouchStart:xt,onTouchMove:vt,onTouchEnd:Ee,onTouchCancel:Ee,onWheel:jt})}),i.jsxs("button",{onClick:tt,className:`absolute top-4 left-4 z-10 flex items-center gap-2 px-3 py-2 rounded-lg shadow-lg transition-colors ${c?"bg-[#374151] hover:bg-[#404c5e] text-gray-100 border border-gray-600":"bg-white hover:bg-gray-50 border border-gray-200"}`,children:[i.jsx(zt,{className:"size-5"}),i.jsx("span",{children:"Menu"})]}),Y.needsInput&&i.jsx("div",{className:"absolute inset-0 z-20 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:i.jsx("div",{className:`w-full max-w-md mx-4 rounded-xl border-2 p-6 ${c?"bg-[#374151] border-gray-600":"bg-white border-gray-200"}`,children:i.jsxs("div",{className:"space-y-4",children:[i.jsx(Rt,{value:a===0?v:a===1?A:a===3?P:null,onChange:e=>{a===0?ze(e):a===1?Be(e):a===3&&Re(e)},min:0,max:99,step:1,unit:"cm",darkMode:c,label:Y.title}),Te&&i.jsx("div",{className:`p-3 rounded-lg text-sm ${c?"bg-red-900/30 border border-red-700 text-red-300":"bg-red-50 border border-red-200 text-red-700"}`,children:Te}),i.jsx("button",{onClick:mt,className:"w-full px-4 py-3 bg-[#2563eb] text-white rounded-lg hover:bg-[#1d4ed8] transition-colors",children:"Pokračovat"})]})})}),ve?i.jsx("div",{className:`absolute bottom-4 left-1/2 -translate-x-1/2 z-10 rounded-xl shadow-2xl border p-2 w-[calc(100%-2rem)] max-w-sm ${c?"bg-[#374151] border-gray-600":"bg-white border-border"}`,children:i.jsxs("div",{className:"flex flex-col gap-2",children:[i.jsxs("div",{className:"flex items-center justify-between gap-2",children:[i.jsx("button",{onClick:qe,className:`p-2 rounded-lg transition-colors shrink-0 ${c?"bg-gray-600 hover:bg-gray-500 text-gray-100":"bg-gray-100 hover:bg-gray-200"}`,title:"Přehrát krok znovu",children:i.jsx(Ue,{className:"size-5"})}),i.jsx("button",{onClick:Ze,className:`p-2 rounded-lg transition-colors shrink-0 ${c?"bg-gray-600 hover:bg-gray-500 text-gray-100":"bg-gray-100 hover:bg-gray-200"}`,title:"Restart na začátek",children:i.jsx(Je,{className:"size-5"})}),i.jsxs("button",{onClick:()=>re(Math.max(0,a-1)),disabled:!Fe(),className:"flex items-center justify-center gap-1.5 px-4 py-2 bg-[#2563eb] text-white rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-[#1d4ed8] transition-colors flex-1",children:[i.jsx(Qe,{className:"size-5"}),i.jsx("span",{children:"Zpět"})]}),i.jsxs("button",{onClick:()=>re(a+1),disabled:!He(),className:"flex items-center justify-center gap-1.5 px-4 py-2 bg-[#2563eb] text-white rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-[#1d4ed8] transition-colors flex-1",children:[i.jsx("span",{children:"Další"}),i.jsx(_e,{className:"size-5"})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[i.jsx("span",{className:`text-sm shrink-0 ${c?"text-gray-300":"text-muted-foreground"}`,children:"Zoom"}),i.jsx(Ve,{value:[p*100],onValueChange:Me,min:15,max:225,step:5,className:"flex-1"})]}),i.jsx("button",{onClick:()=>Ae(!x),className:`p-2 rounded-lg transition-colors shrink-0 ${c?"bg-gray-600 hover:bg-gray-500 text-gray-100":"bg-gray-100 hover:bg-gray-200"}`,title:x?"Skrýt nápovědu a nástroje":"Zobrazit nápovědu a nástroje",children:i.jsx(et,{className:`size-5 ${x?"":"opacity-50"}`})}),i.jsx("button",{onClick:()=>xe(!c),className:`p-2 rounded-lg transition-colors shrink-0 ${c?"bg-gray-600 hover:bg-gray-500 text-gray-100":"bg-gray-100 hover:bg-gray-200"}`,title:c?"Světlý režim":"Tmavý režim",children:c?i.jsx(Ke,{className:"size-5"}):i.jsx(Ge,{className:"size-5"})})]})]})}):i.jsx("div",{className:`absolute bottom-6 left-1/2 -translate-x-1/2 z-10 rounded-xl shadow-lg border p-2.5 ${c?"bg-[#374151] border-gray-600":"bg-white border-border"}`,children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{onClick:qe,className:`p-1.5 rounded-lg transition-colors shrink-0 ${c?"bg-gray-600 hover:bg-gray-500 text-gray-100":"hover:bg-muted"}`,title:"Přehrát krok znovu",children:i.jsx(Ue,{className:"size-[18px]"})}),i.jsx("button",{onClick:Ze,className:`p-1.5 rounded-lg transition-colors shrink-0 ${c?"bg-gray-600 hover:bg-gray-500 text-gray-100":"hover:bg-muted"}`,title:"Restart na začátek",children:i.jsx(Je,{className:"size-[18px]"})}),i.jsx("div",{className:`h-6 w-px ${c?"bg-gray-500":"bg-border"}`}),i.jsxs("button",{onClick:()=>re(Math.max(0,a-1)),disabled:!Fe(),className:"flex items-center gap-1.5 px-3 py-1.5 bg-[#2563eb] text-white rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-[#1d4ed8] transition-colors shrink-0",children:[i.jsx(Qe,{className:"size-[18px]"}),i.jsx("span",{className:"text-[15px]",children:"Zpět"})]}),i.jsxs("button",{onClick:()=>re(a+1),disabled:!He(),className:"flex items-center gap-1.5 px-3 py-1.5 bg-[#2563eb] text-white rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-[#1d4ed8] transition-colors shrink-0",children:[i.jsx("span",{className:"text-[15px]",children:"Další"}),i.jsx(_e,{className:"size-[18px]"})]}),i.jsx("div",{className:`h-6 w-px ${c?"bg-gray-500":"bg-border"}`}),i.jsxs("div",{className:"flex items-center gap-2 w-[140px] shrink-0",children:[i.jsx("span",{className:`text-[14px] ${c?"text-gray-300":"text-muted-foreground"}`,children:"Zoom"}),i.jsx(Ve,{value:[p*100],onValueChange:Me,min:15,max:225,step:5,className:"flex-1"})]}),i.jsx("div",{className:`h-6 w-px ${c?"bg-gray-500":"bg-border"}`}),i.jsx("button",{onClick:()=>Ae(!x),className:`p-1.5 rounded-lg transition-colors shrink-0 ${c?"bg-gray-600 hover:bg-gray-500 text-gray-100":"hover:bg-muted"}`,title:x?"Skrýt nápovědu a nástroje":"Zobrazit nápovědu a nástroje",children:i.jsx(et,{className:`size-[18px] ${x?"":"opacity-50"}`})}),i.jsx("button",{onClick:()=>xe(!c),className:`p-1.5 rounded-lg transition-colors shrink-0 ${c?"bg-gray-600 hover:bg-gray-500 text-gray-100":"hover:bg-muted"}`,title:c?"Světlý režim":"Tmavý režim",children:c?i.jsx(Ke,{className:"size-[18px]"}):i.jsx(Ge,{className:"size-[18px]"})})]})})]})}export{Wt as InteractiveTriangleConstruction};
