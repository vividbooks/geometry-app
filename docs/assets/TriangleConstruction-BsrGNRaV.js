import{r as h,j as p,A as Je}from"./index-Ca8Xi2sU.js";import{u as Qe,F as et}from"./slider-CP0Qrj8q.js";import{C as tt,a as nt}from"./ConstructionStepLog-o7zM7swz.js";function lt({onBack:ce,darkMode:d,onDarkModeChange:pe,customSides:j}){const Te=Qe(),M=h.useRef(null),I=h.useRef(null),U=h.useRef(null),te=h.useRef(),[g,Re]=h.useState(0),[b,ne]=h.useState(Te?.2:.4),[y,$]=h.useState({x:0,y:0}),[oe,V]=h.useState(!1),[J,ue]=h.useState({x:0,y:0}),[C,Ae]=h.useState({width:1920,height:1080}),[E,he]=h.useState(0),[fe,de]=h.useState(!0),[A,Xe]=h.useState(!0),[F,se]=h.useState(!1),z=[{notation:"AB; |AB| = c",description:"Narýsuj úsečku AB",type:"segment"},{notation:"k₁(A; b)",description:"Kružnice se středem A a poloměrem b",type:"circle"},{notation:"k₂(B; a)",description:"Kružnice se středem B a poloměrem a",type:"circle"},{notation:"C = k₁ ∩ k₂",description:"Průsečík kružnic",type:"point"},{notation:"AC",description:"Spojení A a C",type:"segment"},{notation:"BC",description:"Spojení B a C",type:"segment"},{notation:"△ABC",description:"Trojúhelník ABC",type:"segment"},{notation:"|AB| = c, |AC| = b, |BC| = a",description:"Označení délek stran",type:"segment"}],ie=h.useRef(null),[Ye,xe]=h.useState(!1),ae=h.useRef(null),[Ie,Me]=h.useState(!1),[w,ge]=h.useState({x:860,y:900}),[P,me]=h.useState({x:1460,y:900}),[D,Z]=h.useState(null),[k,re]=h.useState(null),[ye,ze]=h.useState(!1),[De,be]=h.useState(!1),[Be,Ne]=h.useState(0),[Ee,Le]=h.useState(1),[ot,We]=h.useState({x:0,y:0}),L=j||{ab:5,ac:4,bc:3},[v,$e]=h.useState(L),[_,Fe]=h.useState(null),B=Math.sqrt(Math.pow(P.x-w.x,2)+Math.pow(P.y-w.y,2)),H=B*(v.ac/v.ab),K=B*(v.bc/v.ab),N=(()=>{const e=B,o=H,s=K,n=(e*e+o*o-s*s)/(2*e),t=Math.sqrt(o*o-n*n),i=w.x+(P.x-w.x)*(n/e),a=w.y+(P.y-w.y)*(n/e),u=P.x-w.x,r=-(P.y-w.y)/e,f=u/e;return{top:{x:i+t*r,y:a+t*f},bottom:{x:i-t*r,y:a-t*f}}})();h.useEffect(()=>{!_&&B>0&&Fe(B)},[_,B]),h.useEffect(()=>{if(_&&(D==="A"||D==="B")){const e=L.ab/_,o=Math.round(B*e*10)/10,s=Math.round(L.ac*(o/L.ab)*10)/10,n=Math.round(L.bc*(o/L.ab)*10)/10;$e({ab:o,ac:s,bc:n})}},[B,D,_,L]),h.useEffect(()=>{I.current||(I.current=document.createElement("canvas"))},[]),h.useEffect(()=>{const e=new Image;e.crossOrigin="anonymous",e.onload=()=>{ie.current=e,xe(!0)},e.onerror=()=>console.error("Failed to load ruler image"),e.src="https://jjpiguuubvmiobmixwgh.supabase.co/storage/v1/object/public/Admin%20math/pravitko4.svg"},[]),h.useEffect(()=>{const e=new Image;e.crossOrigin="anonymous",e.onload=()=>{ae.current=e,Me(!0)},e.onerror=()=>console.error("Failed to load compass image"),e.src="https://jjpiguuubvmiobmixwgh.supabase.co/storage/v1/object/public/Admin%20math/kruzitko.svg"},[]);const Q=(e,o)=>({x:(e-y.x)/b,y:(o-y.y)/b}),q=(e,o,s=15)=>{const n=e.x-o.x,t=e.y-o.y;return Math.sqrt(n*n+t*t)<s},O=(e,o,s)=>{const n=e.x*b+y.x,t=e.y*b+y.y,i=n+s.x,a=t+s.y,u=20,c=o.x-i,r=o.y-(a-8);return Math.sqrt(c*c+r*r)<u},we=()=>{if(!C.width||!C.height)return;const e=(w.x+P.x)/2,o=w.y,s=C.width/2,n=C.height/2;$({x:s-e*b,y:n-o*b})};h.useEffect(()=>{const e=()=>{U.current&&Ae({width:U.current.clientWidth,height:U.current.clientHeight})};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),h.useEffect(()=>{C.width>0&&C.height>0&&(we(),ye||ze(!0))},[C.width,C.height,ye]),h.useEffect(()=>{const e=M.current,o=I.current;if(!e||!o)return;const s=window.devicePixelRatio||1;e.width=C.width*s,e.height=C.height*s,o.width=C.width*s,o.height=C.height*s},[C]),h.useEffect(()=>(fe&&E<1?te.current=requestAnimationFrame(()=>{let e=.008;g===1||g===3?e=.002:(g===2||g===4)&&(e=.005),he(o=>Math.min(o+e,1))}):E>=1&&de(!1),()=>{te.current&&cancelAnimationFrame(te.current)}),[fe,E,g]);const Ze=e=>{const o=50*b;e.strokeStyle=d?"rgba(125, 107, 194, 0.15)":"rgba(229, 231, 235, 0.8)",e.lineWidth=1;const s=y.x%o,n=y.y%o;for(let t=s;t<=C.width;t+=o)e.beginPath(),e.moveTo(t,0),e.lineTo(t,C.height),e.stroke();for(let t=n;t<=C.height;t+=o)e.beginPath(),e.moveTo(0,t),e.lineTo(C.width,t),e.stroke()},S=(e,o,s,n="#000",t=12,i=-12,a=1)=>{e.save(),e.setTransform(a,0,0,a,0,0);const u=o.x*b+y.x,c=o.y*b+y.y;e.font="bold 16px Inter, system-ui, sans-serif";const f=e.measureText(s).width,l=8,m=u+t+f/2,R=c+i-8,G=Math.max(f,16)/2+l;e.fillStyle="#3b82f6",e.beginPath(),e.arc(m,R,G,0,Math.PI*2),e.fill(),e.fillStyle="#ffffff",e.textAlign="center",e.textBaseline="middle",e.fillText(s,m,R),e.restore()},T=(e,o,s,n="#000",t=!1)=>{const i=t?24:20,a=s+Math.PI/2,u={x:o.x+Math.cos(a)*i/2,y:o.y+Math.sin(a)*i/2},c={x:o.x-Math.cos(a)*i/2,y:o.y-Math.sin(a)*i/2};e.strokeStyle=n,e.lineWidth=6,e.lineCap="butt",e.beginPath(),e.moveTo(u.x,u.y),e.lineTo(c.x,c.y),e.stroke(),t&&(e.fillStyle=d?"rgba(96, 165, 250, 0.25)":"rgba(59, 130, 246, 0.15)",e.beginPath(),e.arc(o.x,o.y,18,0,Math.PI*2),e.fill())},ve=(e,o,s,n="#000")=>{e.fillStyle=d?"rgba(75, 85, 99, 0.4)":"rgba(200, 200, 200, 0.3)",e.beginPath(),e.arc(o.x,o.y,10,0,Math.PI*2),e.fill(),e.fillStyle=n,e.beginPath(),e.arc(o.x,o.y,7,0,Math.PI*2),e.fill(),e.strokeStyle=d?"#111827":"#ffffff",e.lineWidth=2,e.beginPath(),e.arc(o.x,o.y,7,0,Math.PI*2),e.stroke()},X=(e,o,s,n="#000",t=2,i=1)=>{let a=0;i<=.15?a=0:i>=.85?a=1:a=(i-.15)/.7;const u={x:o.x+(s.x-o.x)*a,y:o.y+(s.y-o.y)*a},c=a<1;c&&a>0&&(e.strokeStyle="rgba(251, 191, 36, 0.5)",e.lineWidth=t*10,e.lineCap="round",e.beginPath(),e.moveTo(o.x,o.y),e.lineTo(u.x,u.y),e.stroke()),a>0&&(e.strokeStyle=n,e.lineWidth=c?t*1.5:t,e.lineCap="round",e.beginPath(),e.moveTo(o.x,o.y),e.lineTo(u.x,u.y),e.stroke())},Y=(e,o,s,n,t=1)=>{const i=(o.x+s.x)/2,a=(o.y+s.y)/2,u=s.x-o.x,c=s.y-o.y,r=Math.atan2(c,u);e.save(),e.setTransform(t,0,0,t,0,0);const f=i*b+y.x,l=a*b+y.y;e.translate(f,l),e.rotate(r);const m=`${n}cm`;e.font='600 18px "Fenomen Sans", Arial, sans-serif',e.fillStyle=d?"#e5e7eb":"#1f2937",e.textAlign="center",e.textBaseline="bottom",e.fillText(m,0,-8),e.restore()},x=(e,o,s,n="#93c5fd",t=2,i=1)=>{let a=0;i<=.15?a=0:i>=.85?a=1:a=(i-.15)/.7;const u=Math.PI*2*a,c=a<1;c&&a>0&&(e.strokeStyle="rgba(251, 191, 36, 0.5)",e.lineWidth=t*10,e.lineCap="round",e.beginPath(),e.arc(o.x,o.y,s,0,u),e.stroke()),a>0&&(e.strokeStyle=n,e.lineWidth=c?t*1.5:t,e.lineCap="round",e.beginPath(),e.arc(o.x,o.y,s,0,u),e.stroke())},le=(e,o,s,n)=>{if(!A||!Ye||!ie.current)return;let t=0;if(n<.15)t=n/.15;else if(n>=.15&&n<=.85)t=1;else if(n>.85&&n<1)t=(1-n)/.15;else return;const i=ie.current,a=800,u=400;e.save();const c=s.x-o.x,r=s.y-o.y,f=Math.sqrt(c*c+r*r),l=Math.atan2(r,c);e.translate(o.x,o.y),e.rotate(l),e.globalAlpha=t;const m=f/2-a/2;e.drawImage(i,m,-u,a,u),e.restore()},ee=(e,o,s,n,t)=>{if(!A||!Ie||!ae.current)return;let i=0;if(n<.15)i=n/.15;else if(n>=.15&&n<=.85)i=1;else if(n>.85&&n<1)i=(1-n)/.15;else return;const a=ae.current,u=s,c=s;e.save(),e.translate(o.x,o.y),e.rotate(t),e.globalAlpha=i,e.drawImage(a,0,-c,u,c),e.restore()},W=[{id:0,title:"Narýsuj stranu AB",description:j?`Začneme stranou AB o délce ${v.ab} cm. Body A a B můžeš přesouvat myší!`:"Začneme stranou AB trojúhelníku. Body A a B můžeš přesouvat myší!",draw:(e,o,s,n,t,i,a,u,c)=>{const r=window.devicePixelRatio||1,f=Math.atan2(t.y-n.y,t.x-n.x),l=d?"#e5e7eb":"#1f2937";X(e,n,t,l,6,c),T(e,n,f,l,k==="A"),T(e,t,f,l,k==="B"),S(e,n,"A",l,-25,-12,r),S(e,t,"B",l,12,-12,r),A&&c>.85&&Y(e,n,t,j?v.ab:5,r)}},{id:1,title:"Zapíchni kružítko do bodu A",description:j?`Zapíchneme kružítko do bodu A a vezmeme do něj délku strany AC = ${v.ac} cm.`:"Zapíchneme kružítko do bodu A a vezmeme do něj délku strany AC.",draw:(e,o,s,n,t,i,a,u,c)=>{const r=window.devicePixelRatio||1,f=Math.atan2(t.y-n.y,t.x-n.x),l=d?"#e5e7eb":"#1f2937",m=d?"#fca5a5":"#ef4444";X(e,n,t,l,6,1),T(e,n,f,m,k==="A"),T(e,t,f,l,k==="B"),S(e,n,"A",m,-25,-12,r),S(e,t,"B",l,12,-12,r),A&&Y(e,n,t,j?v.ab:5,r)}},{id:2,title:"Narýsuj kružnici z bodu A",description:j?`S kružítkem v bodě A narýsujeme kružnici s poloměrem AC = ${v.ac} cm.`:"S kružítkem zapíchnutým v bodě A narýsujeme kružnici s poloměrem AC.",draw:(e,o,s,n,t,i,a,u,c)=>{const r=window.devicePixelRatio||1,f=Math.atan2(t.y-n.y,t.x-n.x),l=d?"#e5e7eb":"#1f2937",m=d?"#93c5fd":"#3b82f6";X(e,n,t,l,6,1),x(e,n,i,m,4,c),T(e,n,f,l,k==="A"),T(e,t,f,l,k==="B"),S(e,n,"A",l,-25,-12,r),S(e,t,"B",l,12,-12,r),A&&Y(e,n,t,j?v.ab:5,r)}},{id:3,title:"Zapíchni kružítko do bodu B",description:j?`Teď zapíchneme kružítko do bodu B a vezmeme do něj délku strany BC = ${v.bc} cm.`:"Teď zapíchneme kružítko do bodu B a vezmeme do něj délku strany BC.",draw:(e,o,s,n,t,i,a,u,c)=>{const r=window.devicePixelRatio||1,f=Math.atan2(t.y-n.y,t.x-n.x),l=d?"#e5e7eb":"#1f2937",m=d?"#93c5fd":"#3b82f6",R=d?"#fca5a5":"#ef4444";X(e,n,t,l,6,1),x(e,n,i,m,4,1),T(e,n,f,l,k==="A"),T(e,t,f,R,k==="B"),S(e,n,"A",l,-25,-12,r),S(e,t,"B",R,12,-12,r),A&&Y(e,n,t,j?v.ab:5,r)}},{id:4,title:"Narýsuj kružnici z bodu B",description:j?`S kružítkem v bodě B narýsujeme kružnici s poloměrem BC = ${v.bc} cm.`:"S kružítkem v bodě B narýsujeme kružnici s poloměrem BC.",draw:(e,o,s,n,t,i,a,u,c)=>{const r=window.devicePixelRatio||1,f=Math.atan2(t.y-n.y,t.x-n.x),l=d?"#e5e7eb":"#1f2937",m=d?"#93c5fd":"#3b82f6";X(e,n,t,l,6,1),x(e,n,i,m,4,1),x(e,t,a,m,4,c),T(e,n,f,l,k==="A"),T(e,t,f,l,k==="B"),S(e,n,"A",l,-25,-12,r),S(e,t,"B",l,12,-12,r),A&&Y(e,n,t,j?v.ab:5,r)}},{id:5,title:"Označ průsečík jako bod C",description:"Bod, ve kterém se kružnice protly, pojmenujeme C. To je třetí vrchol trojúhelníku.",draw:(e,o,s,n,t,i,a,u,c)=>{const r=window.devicePixelRatio||1,f=Math.atan2(t.y-n.y,t.x-n.x),l=d?"#e5e7eb":"#1f2937",m=d?"#93c5fd":"#3b82f6";X(e,n,t,l,6,1),x(e,n,i,m,4,1),x(e,t,a,m,4,1),T(e,n,f,l,k==="A"),T(e,t,f,l,k==="B"),S(e,n,"A",l,-25,-12,r),S(e,t,"B",l,12,-12,r),A&&Y(e,n,t,j?v.ab:5,r)}},{id:6,title:"Dorýsuj trojúhelník",description:"Spojíme body A-C a B-C. Trojúhelník ABC je hotový!",draw:(e,o,s,n,t,i,a,u,c)=>{const r=window.devicePixelRatio||1,f=Math.atan2(t.y-n.y,t.x-n.x),l=d?"#e5e7eb":"#1f2937",m=d?"#93c5fd":"#3b82f6",R=d?"#6ee7b7":"#10b981";X(e,n,t,l,6,1);const G=c*2;G<=1?X(e,n,u.top,R,5,G):(X(e,n,u.top,R,5,1),X(e,t,u.top,R,5,G-1)),x(e,n,i,m,4,1),x(e,t,a,m,4,1),T(e,n,f,l,k==="A"),T(e,t,f,l,k==="B"),S(e,n,"A",l,-25,-12,r),S(e,t,"B",l,12,-12,r),A&&(Y(e,n,t,j?v.ab:5,r),c>.85&&(Y(e,n,u.top,j?v.ac:4,r),Y(e,t,u.top,j?v.bc:3,r)))}},{id:7,title:"Opsat trojúhelník",description:"Připíšeme délky stran.",draw:(e,o,s,n,t,i,a,u,c)=>{const r=window.devicePixelRatio||1,f=Math.atan2(t.y-n.y,t.x-n.x),l=d?"#e5e7eb":"#1f2937",m=d?"#93c5fd":"#3b82f6",R=d?"#6ee7b7":"#10b981";X(e,n,t,l,6,1),X(e,n,u.top,R,5,1),X(e,t,u.top,R,5,1),x(e,n,i,m,4,1),x(e,t,a,m,4,1),T(e,n,f,l,k==="A"),T(e,t,f,l,k==="B"),S(e,n,"A",l,-25,-12,r),S(e,t,"B",l,12,-12,r),S(e,u.top,"C",R,12,-12,r),A&&c>0&&(e.globalAlpha=Math.min(c/.3,1),Y(e,n,t,j?v.ab:5,r),c>.3&&(e.globalAlpha=Math.min((c-.3)/.3,1),Y(e,n,u.top,j?v.ac:4,r)),c>.6&&(e.globalAlpha=Math.min((c-.6)/.3,1),Y(e,t,u.top,j?v.bc:3,r)),e.globalAlpha=1)}}],qe=(e,o)=>{const s=window.devicePixelRatio||1;if(!I.current||I.current.width===0||I.current.height===0)return;e.clearRect(0,0,I.current.width,I.current.height),e.save(),e.scale(s,s),Ze(e),e.translate(y.x,y.y),e.scale(b,b);for(let t=0;t<g;t++)W[t].draw(e,b,y,w,P,H,K,N,1,g,W[t].id);if(W[g].draw(e,b,y,w,P,H,K,N,o,g,W[g].id),A&&o>0){if(g===0)le(e,w,P,o);else if(g===1)ee(e,w,H,o,0);else if(g===2){const t=o>.15?Math.PI*2*((o-.15)/.7):0;ee(e,w,H,o,t)}else if(g===3)ee(e,P,K,o,0);else if(g===4){const t=o>.15?Math.PI*2*((o-.15)/.7):0;ee(e,P,K,o,t)}else if(g===6){const t=o*2;t<=1?le(e,w,N.top,t):le(e,P,N.top,t-1)}}const n=d?"#fca5a5":"#ef4444";if(g>=5)if(g===5&&o>.3){const t=Math.min((o-.3)/.7,1);e.globalAlpha=t,ve(e,N.top,"C",n),e.globalAlpha=1,t>.5&&S(e,N.top,"C",n,12,-12,s)}else g>=6&&(ve(e,N.top,"C",n),S(e,N.top,"C",n,12,-12,s));e.restore()};h.useEffect(()=>{const e=M.current,o=I.current;if(!e||!o||e.width===0||e.height===0||o.width===0||o.height===0)return;const s=e.getContext("2d"),n=o.getContext("2d");if(!s||!n)return;qe(n,E),s.setTransform(1,0,0,1,0,0),s.clearRect(0,0,e.width,e.height);const t=E<.05?E/.05:1;s.globalAlpha=t,s.drawImage(o,0,0),s.globalAlpha=1},[g,b,y,C,w,P,k,E,A,d]);const Ce=e=>{Re(e),he(0),de(!0)},Oe=e=>{const o=M.current?.getBoundingClientRect();if(!o)return;const s=e.clientX-o.left,n=e.clientY-o.top,t=Q(s,n),i={x:s,y:n};if(q(w,t)||O(w,i,{x:-25,y:-12})){Z("A");return}if(q(P,t)||O(P,i,{x:12,y:-12})){Z("B");return}V(!0),ue({x:e.clientX-y.x,y:e.clientY-y.y})},_e=e=>{const o=M.current?.getBoundingClientRect();if(!o)return;const s=e.clientX-o.left,n=e.clientY-o.top,t=Q(s,n),i={x:s,y:n};if(D==="A"){ge(t);return}if(D==="B"){me(t);return}if(oe){$({x:e.clientX-J.x,y:e.clientY-J.y});return}q(w,t)||O(w,i,{x:-25,y:-12})?re("A"):q(P,t)||O(P,i,{x:12,y:-12})?re("B"):re(null)},Pe=()=>{V(!1),Z(null)},Se=(e,o)=>{const s=e.clientX-o.clientX,n=e.clientY-o.clientY;return Math.sqrt(s*s+n*n)},je=(e,o)=>({x:(e.clientX+o.clientX)/2,y:(e.clientY+o.clientY)/2}),He=e=>{const o=M.current?.getBoundingClientRect();if(!o)return;if(e.touches.length===2){const u=Se(e.touches[0],e.touches[1]),c=je(e.touches[0],e.touches[1]);be(!0),Ne(u),Le(b),We(c),e.preventDefault();return}if(e.touches.length!==1)return;const s=e.touches[0],n=s.clientX-o.left,t=s.clientY-o.top,i=Q(n,t),a={x:n,y:t};if(q(w,i)||O(w,a,{x:-25,y:-12})){Z("A"),e.preventDefault();return}if(q(P,i)||O(P,a,{x:12,y:-12})){Z("B"),e.preventDefault();return}V(!0),ue({x:s.clientX-y.x,y:s.clientY-y.y}),e.preventDefault()},Ke=e=>{const o=M.current?.getBoundingClientRect();if(!o)return;if(e.touches.length===2&&De){const a=Se(e.touches[0],e.touches[1]),u=je(e.touches[0],e.touches[1]),c=a/Be,r=Math.max(.2,Math.min(.6,Ee*c)),f=u.x-o.left,l=u.y-o.top,m=r/b,R={x:f-(f-y.x)*m,y:l-(l-y.y)*m};ne(r),$(R),e.preventDefault();return}if(e.touches.length!==1)return;const s=e.touches[0],n=s.clientX-o.left,t=s.clientY-o.top,i=Q(n,t);if(D==="A"){ge(i),e.preventDefault();return}if(D==="B"){me(i),e.preventDefault();return}if(oe){$({x:s.clientX-J.x,y:s.clientY-J.y}),e.preventDefault();return}},ke=()=>{V(!1),Z(null),be(!1)},Ge=e=>{e.preventDefault();const o=e.deltaY>0?.9:1.1,s=Math.max(.2,Math.min(.6,b*o)),n=M.current?.getBoundingClientRect();if(!n)return;const t=n.width/2,i=n.height/2,a=s/b;$({x:t-(t-y.x)*a,y:i-(i-y.y)*a}),ne(s)},Ue=()=>D?"grabbing":k?"move":oe?"grabbing":"grab",Ve=()=>{Ce(0),we()};return p.jsxs("div",{className:"size-full flex flex-col relative",children:[p.jsx("div",{ref:U,className:`flex-1 ${d?"bg-[#1a1b26]":"bg-white"}`,children:p.jsx("canvas",{ref:M,className:"w-full h-full",style:{cursor:Ue(),touchAction:"none"},onMouseDown:Oe,onMouseMove:_e,onMouseUp:Pe,onMouseLeave:Pe,onTouchStart:He,onTouchMove:Ke,onTouchEnd:ke,onTouchCancel:ke,onWheel:Ge})}),p.jsxs("button",{onClick:ce,onTouchEnd:e=>{e.preventDefault(),ce()},className:`absolute top-4 left-4 z-10 flex items-center gap-2 px-3 py-2 rounded-xl shadow-[0_2px_12px_rgba(0,0,0,0.08)] transition-all ${d?"bg-[#1a1b26]/90 hover:bg-[#24283b] text-[#c0caf5] border border-[#2a2b3d] backdrop-blur-sm":"bg-white/90 hover:bg-gray-50 border border-gray-200/60 backdrop-blur-sm"}`,children:[p.jsx(Je,{className:"size-5"}),p.jsx("span",{className:"text-sm font-medium",children:"Menu"})]}),p.jsx("div",{className:`absolute top-4 z-10 transition-all duration-300 ${F?"right-[576px]":"right-4"}`,children:p.jsxs("button",{onClick:()=>se(!F),onTouchEnd:e=>{e.preventDefault(),se(!F)},className:`p-3 rounded-xl transition-all relative group/protocol ${F?d?"bg-[#7aa2f7] text-white":"bg-[#1e1b4b] text-white":d?"bg-[#24283b] hover:bg-[#414868] text-[#c0caf5]":"bg-white/90 hover:bg-gray-50 text-gray-700 shadow-[0_2px_12px_rgba(0,0,0,0.08)] border border-gray-200/60 backdrop-blur-sm"}`,title:"Zápis konstrukce",children:[p.jsx(et,{className:"size-5"}),!F&&p.jsx("div",{className:"absolute right-0 top-full mt-2 px-3 py-1.5 bg-black/80 text-white text-xs rounded-lg whitespace-nowrap opacity-0 group-hover/protocol:opacity-100 transition-opacity pointer-events-none",children:"Zápis konstrukce"})]})}),p.jsxs("div",{className:`absolute top-4 left-1/2 -translate-x-1/2 z-10 rounded-2xl shadow-lg max-w-2xl ${d?"bg-gray-900 border border-gray-800 text-[#c0caf5]":"bg-white border border-gray-200 text-gray-900"}`,style:{fontFamily:"var(--font-family, 'Fenomen Sans', sans-serif)",padding:"24px 40px"},children:[p.jsxs("div",{className:`text-base font-medium mb-3 ${d?"text-[#565f89]":"text-gray-400"}`,children:["Krok ",g+1," / ",W.length]}),p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("span",{className:"flex items-center justify-center w-10 h-10 rounded-full text-sm font-bold shrink-0",style:{backgroundColor:z[g]?.type==="circle"?"#f43f5e":z[g]?.type==="segment"?"#10b981":z[g]?.type==="line"?"#8b5cf6":"#3b82f6",color:"#fff"},children:z[g]?.type==="circle"?"○":z[g]?.type==="segment"?"—":z[g]?.type==="line"?"↔":"•"}),p.jsxs("span",{className:"text-xl font-medium",style:{fontFamily:'"Times New Roman", Georgia, serif',fontStyle:"italic"},children:[g+1,". ",z[g]?.notation]})]}),p.jsx("div",{className:`text-base mt-2.5 ${d?"text-[#565f89]":"text-gray-500"}`,children:W[g]?.description})]}),p.jsx(tt,{currentStep:g,totalSteps:W.length,showCaptions:A,darkMode:d,scale:b,onStepChange:Ce,onRestart:Ve,onToggleCaptions:()=>Xe(!A),onToggleDarkMode:()=>pe(!d),onZoomChange:e=>{const o=Math.max(.2,Math.min(.6,e)),s=C.width/2,n=C.height/2,t=(s-y.x)/b,i=(n-y.y)/b;ne(o),$({x:s-t*o,y:n-i*o})}}),p.jsx(nt,{steps:z,currentStep:g,constructionTitle:"Konstrukce trojúhelníku (SSS)",darkMode:d,visible:F,onClose:()=>se(!1)})]})}export{lt as TriangleConstruction};
